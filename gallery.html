<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gallery â€” Albums</title>
    <link href="styles\navBarStyle.css" rel="stylesheet">
    <link href="styles\siteNotice.css" rel="stylesheet">
    <style>
      /* ---------- Base / Theme ---------- */
      :root {
        --bg: #0b0b0c;
        --bg-elev: #121214;
        --text: #eaeaea;
        --muted: #9b9ba1;
        --card: #151518;
        --border: #26262b;
        --accent: #7c7cff;
        --ring: rgba(124, 124, 255, 0.6);
        --shadow: 0 8px 30px rgba(0, 0, 0, 0.45);
      }
      @media (prefers-color-scheme: light) {
        :root {
          --bg: #f7f7f8;
          --bg-elev: #ffffff;
          --text: #121214;
          --muted: #5a5a62;
          --card: #ffffff;
          --border: #e7e7ee;
          --accent: #4f46e5;
          --ring: rgba(79, 70, 229, 0.4);
          --shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
        background: radial-gradient(1200px 800px at 20% -10%, rgba(124,124,255,0.08), transparent),
                    radial-gradient(900px 600px at 120% 10%, rgba(0,200,255,0.06), transparent),
                    var(--bg);
        color: var(--text);
      }

      /* ---------- Layout ---------- */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 40px 20px 56px;
      }

      header.page {
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
      }
      @media (min-width: 700px) {
        header.page { grid-template-columns: 1fr auto; align-items: end; }
      }

      h1 { margin: 0; font-size: clamp(28px, 3vw, 40px); font-weight: 650; letter-spacing: -0.02em; }
      .subtle { color: var(--muted); font-size: 14px; }

      .controls { display: flex; gap: 10px; flex-wrap: wrap; }
      .control {
        display: flex; align-items: center; gap: 8px;
        background: color-mix(in oklab, var(--bg-elev) 90%, transparent);
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 10px 12px;
        min-width: 220px;
        color: var(--text);
        box-shadow: var(--shadow);
      }
      .control input, .control select {
        appearance: none;
        border: none; outline: none; background: transparent; color: inherit; width: 100%; font-size: 14px;
      }
      .control:focus-within { box-shadow: 0 0 0 4px var(--ring), var(--shadow); border-color: transparent; }

      /* ---------- Grid ---------- */
      .grid {
        margin-top: 24px;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
        gap: 18px;
      }

      /* ---------- Card ---------- */
      .album-card {
        position: relative;
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 18px;
        overflow: hidden;
        box-shadow: var(--shadow);
        transition: transform .2s ease, box-shadow .2s ease;
      }
      .album-card:focus-within, .album-card:hover { transform: translateY(-2px); box-shadow: 0 14px 40px rgba(0,0,0,.25); }

      .cover { position: relative; aspect-ratio: 1 / 1; overflow: hidden; }
      .cover img { width: 100%; height: 100%; object-fit: cover; display: block; transform: scale(1); transition: transform .5s ease; }
      .album-card:hover .cover img { transform: scale(1.03); }

      .cover::after {
        content: ""; position: absolute; inset: 0;
        background: linear-gradient(to top, rgba(0,0,0,.62), rgba(0,0,0,.08) 55%, transparent 75%);
        pointer-events: none;
      }

      .meta { position: absolute; left: 12px; right: 12px; bottom: 12px; z-index: 2; }
      .title { margin: 0 0 6px; font-weight: 600; font-size: 16px; line-height: 1.2; text-shadow: 0 2px 8px rgba(0,0,0,.45); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
      .date { display: flex; align-items: center; gap: 6px; font-size: 12.5px; color: #e6e6e6; opacity: .95; text-shadow: 0 2px 6px rgba(0,0,0,.5); }
      .badge { position: absolute; top: 12px; right: 12px; background: rgba(255,255,255,.9); color: #0b0b0c; border-radius: 999px; padding: 6px 10px; font-size: 12px; font-weight: 600; }
      @media (prefers-color-scheme: dark) { .badge { background: rgba(30,30,34,.9); color: #fff; } }

      .album-link { position: absolute; inset: 0; outline: none; border-radius: 18px; }
      .album-link:focus-visible { box-shadow: 0 0 0 4px var(--ring) inset; }

      /* ---------- Utility icons ---------- */
      .icon { width: 16px; height: 16px; display: inline-block; opacity: .9; }
      .icon.calendar { background: currentColor; -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"%23fff\" d=\"M7 2a1 1 0 0 1 1 1v1h8V3a1 1 0 1 1 2 0v1h1a3 3 0 0 1 3 3v11a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h1V3a1 1 0 0 1 1-1Zm13 9H4v8a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-8ZM5 7a1 1 0 0 0-1 1v1h16V8a1 1 0 0 0-1-1H5Z\"/></svg>') center/contain no-repeat; mask: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path fill=\"#000\" d=\"M7 2a1 1 0 0 1 1 1v1h8V3a1 1 0 1 1 2 0v1h1a3 3 0 0 1 3 3v11a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h1V3a1 1 0 0 1 1-1Zm13 9H4v8a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-8ZM5 7a1 1 0 0 0-1 1v1h16V8a1 1 0 0 0-1-1H5Z\"/></svg>') center/contain no-repeat; }

      /* ---------- Helpers ---------- */
      .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,1px,1px); white-space: nowrap; border: 0; }
    </style>
  </head>
  <body>

    <header class="topbar">
        <div class="wrap topbar-row">
          <div class="brand" style="gap:10px;">
            <span class="login">DYLAN VAL</span>
          </div>
    
          <div class="nav-wrap">
                <input id="nav-toggle" type="checkbox" aria-hidden="true">
                <label class="hambtn" for="nav-toggle" aria-label="Toggle menu">
                <span class="hamburger"><span></span></span>
                </label>
        
                <nav class="wrap-in">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a class="active" href="#">Gallery</a></li>
                </ul>
                </nav>
            </div>
        </div>
    </header>

    <div class="site-notice">
    ðŸš§ This website is still under development. Some features may not work yet. ðŸš§
    </div>


    <div class="container">
      <header class="page" aria-label="Gallery header">
        <div>
          <h1>Gallery</h1>
          <div class="subtle" id="album-count" aria-live="polite">4 albums</div>
        </div>
        <div class="controls" role="group" aria-label="Search and sort">
          <label class="control" for="search">
            <span class="sr-only">Search</span>
            <input id="search" type="search" placeholder="Search albums..." autocomplete="off" />
          </label>
          <label class="control" for="sort">
            <span class="sr-only">Sort</span>
            <select id="sort" aria-label="Sort albums">
              <option value="newest">Newest</option>
              <option value="oldest">Oldest</option>
              <option value="az">A â†’ Z</option>
              <option value="za">Z â†’ A</option>
            </select>
          </label>
        </div>
      </header>

      <main class="grid" id="grid" aria-live="polite">



        <article class="album-card" 
         data-title="Snowdon" 
         data-date="2024-09-27" 
         data-img="images\gallery\covers\cribGoch.jpg" 
         data-href="/albums/moel-siabod">
            <div class="cover">
                <span class="badge">Album</span>
                <div class="meta">
                <h3 class="title"></h3>
                <div class="date"><time></time></div>
                </div>
                <a class="album-link"></a>
            </div>
        </article>


        <article class="album-card" 
         data-title="Cairn Gorm" 
         data-date="2025-02-02" 
         data-img="images\gallery\covers\cairnGorm.jpg" 
         data-href="/albums/moel-siabod">
            <div class="cover">
                <span class="badge">Album</span>
                <div class="meta">
                <h3 class="title"></h3>
                <div class="date"><time></time></div>
                </div>
                <a class="album-link"></a>
            </div>
        </article>


        <article class="album-card" 
         data-title="Moel Siabod" 
         data-date="2025-02-15" 
         data-img="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?q=80&w=1600&auto=format&fit=crop" 
         data-href="/albums/moel-siabod">
            <div class="cover">
                <span class="badge">Album</span>
                <div class="meta">
                <h3 class="title"></h3>
                <div class="date"><time></time></div>
                </div>
                <a class="album-link"></a>
            </div>
        </article>

        <article class="album-card" 
         data-title="Dorset" 
         data-date="2025-09-21" 
         data-img="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?q=80&w=1600&auto=format&fit=crop" 
         data-href="/albums/moel-siabod">
            <div class="cover">
                <span class="badge">Album</span>
                <div class="meta">
                <h3 class="title"></h3>
                <div class="date"><time></time></div>
                </div>
                <a class="album-link"></a>
            </div>
        </article>
        <article class="album-card" 
         data-title="Pembroke" 
         data-date="2025-07-03" 
         data-img="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?q=80&w=1600&auto=format&fit=crop" 
         data-href="/albums/moel-siabod">
            <div class="cover">
                <span class="badge">Album</span>
                <div class="meta">
                <h3 class="title"></h3>
                <div class="date"><time></time></div>
                </div>
                <a class="album-link"></a>
            </div>
        </article>
        <article class="album-card" 
         data-title="Newquay" 
         data-date="2025-07-13" 
         data-img="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?q=80&w=1600&auto=format&fit=crop" 
         data-href="/albums/moel-siabod">
            <div class="cover">
                <span class="badge">Album</span>
                <div class="meta">
                <h3 class="title"></h3>
                <div class="date"><time></time></div>
                </div>
                <a class="album-link"></a>
            </div>
        </article>
        <article class="album-card" 
         data-title="Roaches" 
         data-date="2025-06-18" 
         data-img="images\gallery\covers\roaches.jpg" 
         data-href="/albums/moel-siabod">
            <div class="cover">
                <span class="badge">Album</span>
                <div class="meta">
                <h3 class="title"></h3>
                <div class="date"><time></time></div>
                </div>
                <a class="album-link"></a>
            </div>
        </article>
        <article class="album-card" 
         data-title="Val Thorens" 
         data-date="2025-03-29" 
         data-img="images\gallery\covers\valT.jpg" 
         data-href="/albums/moel-siabod">
            <div class="cover">
                <span class="badge">Album</span>
                <div class="meta">
                <h3 class="title"></h3>
                <div class="date"><time></time></div>
                </div>
                <a class="album-link"></a>
            </div>
        </article>

      </main>
    </div>

    <script>
        document.querySelectorAll('.album-card').forEach(card => {
        const title = card.dataset.title;
        const date = card.dataset.date;
        const img = card.dataset.img;
        const href = card.dataset.href;

        // fill title
        card.querySelector('.title').textContent = title;

        // fill date
        const timeEl = card.querySelector('time');
        timeEl.dateTime = date;
        timeEl.textContent = new Date(date).toLocaleDateString(undefined, {
            year: 'numeric',
            month: 'short',
            day: '2-digit'
        });

        // set image
        const cover = card.querySelector('.cover');
        const imgEl = document.createElement('img');
        imgEl.src = img;
        imgEl.alt = `${title} cover`;
        imgEl.loading = 'lazy';
        cover.prepend(imgEl); // put it inside the cover

        // set link
        const link = card.querySelector('.album-link');
        link.href = href;
        link.setAttribute('aria-label', `Open album â€” ${title}`);
        });

      // --- Utilities ---
      const formatDate = (d) => {
        const date = new Date(d);
        if (Number.isNaN(date.getTime())) return "Unknown date";
        return date.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: '2-digit' });
      };

      // --- Elements ---
      const grid = document.getElementById('grid');
      const search = document.getElementById('search');
      const sort = document.getElementById('sort');
      const count = document.getElementById('album-count');

      // Prepare initial state
      let cards = Array.from(grid.querySelectorAll('.album-card'));

      const apply = () => {
        const q = search.value.trim().toLowerCase();
        let visible = cards.filter(card => {
          const t = card.dataset.title.toLowerCase();
          const d = formatDate(card.dataset.date).toLowerCase();
          return !q || t.includes(q) || d.includes(q);
        });

        const cmp = (a, b) => {
          if (sort.value === 'az') return a.dataset.title.localeCompare(b.dataset.title);
          if (sort.value === 'za') return b.dataset.title.localeCompare(a.dataset.title);
          const ad = new Date(a.dataset.date).getTime();
          const bd = new Date(b.dataset.date).getTime();
          return sort.value === 'newest' ? bd - ad : ad - bd;
        };
        visible.sort(cmp);

        // Paint
        grid.innerHTML = '';
        visible.forEach(card => {
          // ensure text dates are formatted once on load/update
          const timeEl = card.querySelector('time');
          const iso = card.dataset.date;
          timeEl.dateTime = iso;
          timeEl.textContent = formatDate(iso);
          grid.appendChild(card);
        });

        count.textContent = `${visible.length} ${visible.length === 1 ? 'album' : 'albums'}`;
      };

      search.addEventListener('input', apply);
      sort.addEventListener('change', apply);
      // Initial render
      apply();
    </script>
  </body>
</html>
